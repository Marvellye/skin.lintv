<?xml version="1.0" encoding="UTF-8"?>
<window>
    <defaultcontrol>9000</defaultcontrol>
    <backgroundcolor>background</backgroundcolor>
    <controls>
        
        <!-- 1. DYNAMIC BACKGROUND -->
        <control type="group">
            <control type="image">
                <include>FullScreenDimensions</include>
                <texture background="true">$INFO[Container(5100).ListItem.Art(fanart)]</texture>
                <aspectratio>scale</aspectratio>
                <fadetime>600</fadetime>
            </control>

            <!-- 2. TEXT PROTECTION GRADIENTS -->
            <control type="image">
                <left>0</left>
                <top>0</top>
                <width>1200</width>
                <height>100%</height>
                <texture border="0,0,100,0">common/gradient_left.png</texture>
                <colordiffuse>CC000000</colordiffuse>
            </control>
            <control type="image">
                <include>FullScreenDimensions</include>
                <texture border="0,100,0,0">common/gradient_bottom.png</texture>
                <colordiffuse>AA000000</colordiffuse>
            </control>
        </control>

        <!-- 3. TOP NAVIGATION BAR -->
        <control type="group">
            <top>60</top>
            <left>90</left>
            <right>90</right>
            
            <!-- Google TV Logo -->
            <control type="label">
                <width>250</width>
                <height>60</height>
                <font>font15_bold</font>
                <label>Google TV</label>
                <textcolor>ffffffff</textcolor>
            </control>

            <!-- Main Menu (id: 9000) -->
            <control type="list" id="9000">
                <left>250</left>
                <width>1200</width>
                <height>80</height>
                <onleft>9000</onleft>
                <onright>802</onright> <!-- Link to Settings Button -->
                <ondown>5100</ondown>
                <orientation>horizontal</orientation>
                <itemlayout width="180" height="60">
                    <control type="label">
                        <width>180</width>
                        <height>60</height>
                        <align>center</align>
                        <font>font14</font>
                        <textcolor>99ffffff</textcolor>
                        <label>$INFO[ListItem.Label]</label>
                    </control>
                </itemlayout>
                <focusedlayout width="180" height="60">
                    <control type="image">
                        <width>160</width>
                        <height>54</height>
                        <top>3</top>
                        <left>10</left>
                        <texture border="25">common/white_pill.png</texture> 
                        <visible>Control.HasFocus(9000)</visible>
                    </control>
                    <control type="label">
                        <width>180</width>
                        <height>60</height>
                        <align>center</align>
                        <font>font14_bold</font>
                        <textcolor>ff121212</textcolor>
                        <label>$INFO[ListItem.Label]</label>
                        <visible>Control.HasFocus(9000)</visible>
                    </control>
                    <control type="label">
                        <width>180</width>
                        <height>60</height>
                        <align>center</align>
                        <font>font14_bold</font>
                        <textcolor>ffffffff</textcolor>
                        <label>$INFO[ListItem.Label]</label>
                        <visible>!Control.HasFocus(9000)</visible>
                    </control>
                </focusedlayout>
                <content>
                    <item><label>Search</label><onclick>ActivateWindow(1107)</onclick></item>
                    <item><label>For you</label><onclick>SetFocus(5100)</onclick></item>
                    <item><label>Live</label><onclick>ActivateWindow(TVChannels)</onclick></item>
                    <item><label>Movies</label><onclick>ActivateWindow(Videos,videodb://movies/)</onclick></item>
                    <item><label>Apps</label><onclick>ActivateWindow(1100)</onclick></item>
                </content>
            </control>

            <!-- SETTINGS & TIME (Right Aligned) -->
            <control type="group">
                <left>1550</left> <!-- Moves this group to the right side -->
                <top>0</top>
                
                <!-- Settings Button (id: 802) -->
                <control type="button" id="802">
                    <width>50</width>
                    <height>50</height>
                    <top>5</top>
                    <texturefocus>icons/settings.png</texturefocus>
                    <texturenofocus colordiffuse="88ffffff">icons/settings.png</texturenofocus>
                    <onclick>ActivateWindow(settings)</onclick>
                    <onleft>9000</onleft>
                    <ondown>5100</ondown>
                </control>

                <!-- Time Display -->
                <control type="label">
                    <left>70</left>
                    <width>200</width>
                    <height>60</height>
                    <font>font15_bold</font>
                    <label>$INFO[System.Time]</label>
                    <textcolor>ffffffff</textcolor>
                    <aligny>center</aligny>
                </control>
            </control>
        </control>

        <!-- 4. HERO SECTION -->
        <control type="group">
            <top>250</top>
            <left>90</left>
            <control type="label">
                <width>1400</width>
                <height>120</height>
                <!-- Note: Ensure font60_bold exists in Font.xml, otherwise use font_huge -->
                <font>font60_bold</font> 
                <label>$INFO[Container(5100).ListItem.Label]</label>
                <textcolor>ffffffff</textcolor>
                <shadowcolor>ff000000</shadowcolor>
            </control>
            <control type="label">
                <top>115</top> <!-- Adjusted for larger font -->
                <width>1200</width>
                <font>font16</font>
                <textcolor>ccffffff</textcolor>
                <label>$INFO[Container(5100).ListItem.Tagline]</label>
            </control>
            <control type="textbox">
                <top>170</top>
                <width>950</width>
                <height>130</height>
                <font>font14</font>
                <textcolor>99ffffff</textcolor>
                <label>$INFO[Container(5100).ListItem.Plot]</label>
                <linespacing>1.1</linespacing>
                <shadowcolor>88000000</shadowcolor>
            </control>
        </control>

        <!-- 5. TOP PICKS -->
        <control type="group">
            <top>620</top>
            <left>90</left>
            <control type="label">
                <label>Top picks</label>
                <font>font13_bold</font>
                <textcolor>88ffffff</textcolor>
            </control>
            <control type="panel" id="5100">
                <top>80</top>
                <width>1800</width>
                <height>300</height>
                <onup>9000</onup>
                <ondown>5200</ondown>
                <orientation>horizontal</orientation>
                <itemlayout width="448" height="260">
                    <control type="image">
                        <width>440</width>
                        <height>247</height>
                        <texture diffuse="common/rounded_mask_landscape.png" background="true" border="12">$INFO[ListItem.Art(landscape)]</texture>
                        <aspectratio>scale</aspectratio>
                    </control>
                </itemlayout>
                <focusedlayout width="448" height="260">
                    <control type="group">
                        <animation effect="zoom" start="100" end="108" time="300" tween="sine" easing="inout" center="auto">Focus</animation>
                        <animation effect="zoom" start="108" end="100" time="250" tween="sine" easing="inout" center="auto">UnFocus</animation>
                        
                        <control type="image">
                            <width>440</width>
                            <height>247</height>
                            <texture diffuse="common/rounded_mask_landscape.png" background="true" border="12">$INFO[ListItem.Art(landscape)]</texture>
                            <aspectratio>scale</aspectratio>
                        </control>

                        <control type="image">
                            <left>-10</left>
                            <top>-10</top>
                            <width>460</width>
                            <height>267</height>
                            <!-- <texture border="30">common/rounded_focus_glow.png</texture> -->
                            <colordiffuse>ffffffff</colordiffuse>
                            <visible>Control.HasFocus(5100)</visible>
                        </control>
                    </control>
                </focusedlayout>
                <content>videodb://movies/titles/</content>
            </control>
        </control>

        <!-- 6. YOUR APPS -->
        <control type="group">
            <top>950</top>
            <left>90</left>
            <control type="label">
                <label>Your apps</label>
                <font>font13_bold</font>
                <textcolor>88ffffff</textcolor>
            </control>
            <control type="panel" id="5200">
                <top>50</top>
                <width>1800</width>
                <height>200</height>
                <onup>5100</onup>
                <orientation>horizontal</orientation>
                <itemlayout width="180" height="180">
                    <control type="image">
                        <width>150</width>
                        <height>150</height>
                        <texture>$INFO[ListItem.Icon]</texture>
                        <aspectratio>keep</aspectratio>
                        <diffuse>common/squircle_mask.png</diffuse>
                    </control>
                </itemlayout>
                <focusedlayout width="180" height="180">
                    <control type="group">
                        <animation effect="zoom" start="100" end="115" time="300" tween="sine" easing="inout" center="auto">Focus</animation>
                        <control type="image">
                            <width>150</width>
                            <height>150</height>
                            <texture>$INFO[ListItem.Icon]</texture>
                            <aspectratio>keep</aspectratio>
                            <diffuse>common/squircle_mask.png</diffuse>
                        </control>
                        <control type="image">
                            <width>150</width>
                            <height>150</height>
                            <texture border="20">common/rounded_focus_border.png</texture>
                            <visible>Control.HasFocus(5200)</visible>
                        </control>
                    </control>
                </focusedlayout>
                <content>addons://sources/video/</content>
            </control>
        </control>
    </controls>
</window>